const header=document.querySelector(".js-header");let lastScrollTop=0,isWaiting=!1;window.addEventListener("scroll",()=>{isWaiting||(window.requestAnimationFrame(()=>{let currentScroll=window.scrollY||window.pageYOffset||document.documentElement.scrollTop;currentScroll>lastScrollTop?header.classList.remove("sticky"):currentScroll<lastScrollTop&&currentScroll>0?header.classList.add("sticky"):currentScroll<=0&&header.classList.remove("sticky"),lastScrollTop=currentScroll,isWaiting=!1}),isWaiting=!0)},!1),function(menuConfig){var defaultConfig={mobileMenuMode:"overlay",animationSpeed:300,submenuWidth:300,doubleClickTime:500,mobileMenuExpandableSubmenus:!1,isHoverMenu:!0,wrapperSelector:".navbar",buttonSelector:".navbar__toggle",menuSelector:".navbar__menu",submenuSelector:".navbar__submenu",mobileMenuSidebarLogoSelector:null,mobileMenuSidebarLogoUrl:null,relatedContainerForOverlayMenuSelector:null,ariaButtonAttribute:"aria-haspopup",separatorItemClass:"is-separator",parentItemClass:"has-submenu",submenuLeftPositionClass:"is-left-submenu",submenuRightPositionClass:"is-right-submenu",mobileMenuOverlayClass:"navbar_mobile_overlay",mobileMenuSubmenuWrapperClass:"navbar__submenu_wrapper",mobileMenuSidebarClass:"navbar_mobile_sidebar",mobileMenuSidebarOverlayClass:"navbar_mobile_sidebar__overlay",hiddenElementClass:"is-hidden",openedMenuClass:"is-active",noScrollClass:"no-scroll",relatedContainerForOverlayMenuClass:"is-visible"},config={};function setAriaForSubmenus(menuWrapper){for(var submenus=menuWrapper.querySelectorAll(config.submenuSelector),i=0;i<submenus.length;i++)submenus[i].setAttribute("aria-hidden",!1)}function wrapSubmenusIntoContainer(menuWrapper){for(var submenus=menuWrapper.querySelectorAll(config.submenuSelector),i=0;i<submenus.length;i++){var submenuWrapper=document.createElement("div");submenuWrapper.classList.add(config.mobileMenuSubmenuWrapperClass),submenus[i].parentNode.insertBefore(submenuWrapper,submenus[i]),submenuWrapper.appendChild(submenus[i])}}function initToggleSubmenu(menuWrapper){for(var parents=menuWrapper.querySelectorAll("."+config.parentItemClass),i=0;i<parents.length;i++){parents[i].addEventListener("click",function(e){e.stopPropagation();var submenu=this.querySelector("."+config.mobileMenuSubmenuWrapperClass),content=submenu.firstElementChild;if(submenu.classList.contains(config.openedMenuClass)){var height=content.clientHeight;submenu.style.height=height+"px",setTimeout(function(){submenu.style.height="0px"},0),setTimeout(function(){submenu.removeAttribute("style"),submenu.classList.remove(config.openedMenuClass)},config.animationSpeed),content.setAttribute("aria-hidden",!0),content.parentNode.firstElementChild.setAttribute("aria-expanded",!1)}else{height=content.clientHeight;submenu.classList.add(config.openedMenuClass),submenu.style.height="0px",setTimeout(function(){submenu.style.height=height+"px"},0),setTimeout(function(){submenu.removeAttribute("style")},config.animationSpeed),content.setAttribute("aria-hidden",!1),content.parentNode.firstElementChild.setAttribute("aria-expanded",!0)}});for(var childNodes=parents[i].children,j=0;j<childNodes.length;j++)"A"===childNodes[j].tagName&&childNodes[j].addEventListener("click",function(e){var lastClick=parseInt(this.getAttribute("data-last-click"),10),currentTime=+new Date;isNaN(lastClick)||lastClick+config.doubleClickTime<=currentTime?(e.preventDefault(),this.setAttribute("data-last-click",currentTime)):lastClick+config.doubleClickTime>currentTime&&(e.stopPropagation(),closeMenu(this,!0))})}}function closeMenu(clickedLink,forceClose){if(!1!==forceClose||!clickedLink.parentNode.classList.contains(config.parentItemClass)){var relatedContainer=document.querySelector(config.relatedContainerForOverlayMenuSelector),button=document.querySelector(config.buttonSelector),menuWrapper=document.querySelector("."+config.mobileMenuOverlayClass);menuWrapper||(menuWrapper=document.querySelector("."+config.mobileMenuSidebarClass)),menuWrapper.classList.add(config.hiddenElementClass),button.classList.remove(config.openedMenuClass),button.setAttribute(config.ariaButtonAttribute,!1),document.documentElement.classList.remove(config.noScrollClass),relatedContainer&&relatedContainer.classList.remove(config.relatedContainerForOverlayMenuClass);var menuOverlay=document.querySelector("."+config.mobileMenuSidebarOverlayClass);menuOverlay&&menuOverlay.classList.add(config.hiddenElementClass)}}Object.keys(defaultConfig).forEach(function(key){config[key]=defaultConfig[key]}),"object"==typeof menuConfig&&Object.keys(menuConfig).forEach(function(key){config[key]=menuConfig[key]}),document.querySelectorAll(config.wrapperSelector).length&&(function(){for(var submenuParents=document.querySelectorAll(config.wrapperSelector+" ."+config.parentItemClass),i=0;i<submenuParents.length;i++){var eventTrigger=config.isHoverMenu?"mouseenter":"click";submenuParents[i].addEventListener(eventTrigger,function(){var submenu=this.querySelector(config.submenuSelector),itemPosition=this.getBoundingClientRect().left,widthMultiplier=2;if(this.parentNode===document.querySelector(config.menuSelector)&&(widthMultiplier=1),"auto"!==config.submenuWidth){var submenuPotentialPosition=itemPosition+config.submenuWidth*widthMultiplier;window.innerWidth<submenuPotentialPosition?(submenu.classList.remove(config.submenuLeftPositionClass),submenu.classList.add(config.submenuRightPositionClass)):(submenu.classList.remove(config.submenuRightPositionClass),submenu.classList.add(config.submenuLeftPositionClass))}else{submenuPotentialPosition=0;var submenuPosition=0;submenuPotentialPosition=1===widthMultiplier?itemPosition+submenu.clientWidth:itemPosition+this.clientWidth+submenu.clientWidth,window.innerWidth<submenuPotentialPosition?(submenu.classList.remove(config.submenuLeftPositionClass),submenu.classList.add(config.submenuRightPositionClass),submenuPosition=-1*submenu.clientWidth,submenu.removeAttribute("style"),1===widthMultiplier?(submenuPosition=0,submenu.style.right=submenuPosition+"px"):submenu.style.right=this.clientWidth+"px"):(submenu.classList.remove(config.submenuRightPositionClass),submenu.classList.add(config.submenuLeftPositionClass),submenuPosition=this.clientWidth,1===widthMultiplier&&(submenuPosition=0),submenu.removeAttribute("style"),submenu.style.left=submenuPosition+"px")}submenu.setAttribute("aria-hidden",!1)}),config.isHoverMenu&&submenuParents[i].addEventListener("mouseleave",function(){var submenu=this.querySelector(config.submenuSelector);submenu.removeAttribute("style"),submenu.setAttribute("aria-hidden",!0)})}}(),"overlay"===config.mobileMenuMode?function(){var menuWrapper=document.createElement("div");menuWrapper.classList.add(config.mobileMenuOverlayClass),menuWrapper.classList.add(config.hiddenElementClass);var menuContentHTML=document.querySelector(config.menuSelector).outerHTML;menuWrapper.innerHTML=menuContentHTML,document.body.appendChild(menuWrapper),config.mobileMenuExpandableSubmenus?(wrapSubmenusIntoContainer(menuWrapper),initToggleSubmenu(menuWrapper)):setAriaForSubmenus(menuWrapper);var button=document.querySelector(config.buttonSelector);button.addEventListener("click",function(){var relatedContainer=document.querySelector(config.relatedContainerForOverlayMenuSelector);menuWrapper.classList.toggle(config.hiddenElementClass),button.classList.toggle(config.openedMenuClass),button.setAttribute(config.ariaButtonAttribute,button.classList.contains(config.openedMenuClass)),button.classList.contains(config.openedMenuClass)?(document.documentElement.classList.add(config.noScrollClass),relatedContainer&&relatedContainer.classList.add(config.relatedContainerForOverlayMenuClass)):(document.documentElement.classList.remove(config.noScrollClass),relatedContainer&&relatedContainer.classList.remove(config.relatedContainerForOverlayMenuClass))})}():"sidebar"===config.mobileMenuMode&&function(){var menuWrapper=document.createElement("div");menuWrapper.classList.add(config.mobileMenuSidebarClass),menuWrapper.classList.add(config.hiddenElementClass);var menuContentHTML="";null!==config.mobileMenuSidebarLogoSelector?menuContentHTML=document.querySelector(config.mobileMenuSidebarLogoSelector).outerHTML:null!==config.mobileMenuSidebarLogoUrl&&(menuContentHTML='<img src="'+config.mobileMenuSidebarLogoUrl+'" alt="" />'),menuContentHTML+=document.querySelector(config.menuSelector).outerHTML,menuWrapper.innerHTML=menuContentHTML;var menuOverlay=document.createElement("div");menuOverlay.classList.add(config.mobileMenuSidebarOverlayClass),menuOverlay.classList.add(config.hiddenElementClass),document.body.appendChild(menuOverlay),document.body.appendChild(menuWrapper),config.mobileMenuExpandableSubmenus?(wrapSubmenusIntoContainer(menuWrapper),initToggleSubmenu(menuWrapper)):setAriaForSubmenus(menuWrapper),menuWrapper.addEventListener("click",function(e){e.stopPropagation()}),menuOverlay.addEventListener("click",function(){menuWrapper.classList.add(config.hiddenElementClass),menuOverlay.classList.add(config.hiddenElementClass),button.classList.remove(config.openedMenuClass),button.setAttribute(config.ariaButtonAttribute,!1),document.documentElement.classList.remove(config.noScrollClass)});var button=document.querySelector(config.buttonSelector);button.addEventListener("click",function(){menuWrapper.classList.toggle(config.hiddenElementClass),menuOverlay.classList.toggle(config.hiddenElementClass),button.classList.toggle(config.openedMenuClass),button.setAttribute(config.ariaButtonAttribute,button.classList.contains(config.openedMenuClass)),document.documentElement.classList.toggle(config.noScrollClass)})}(),function(){for(var links=document.querySelectorAll(config.menuSelector+" a"),i=0;i<links.length;i++)links[i].parentNode.classList.contains(config.parentItemClass)||links[i].addEventListener("click",function(e){closeMenu(this,!1)})}(),config.isHoverMenu||function(){for(var allAriaElements=document.querySelectorAll(config.wrapperSelector+" *[aria-hidden]"),i=0;i<allAriaElements.length;i++){var ariaElement=allAriaElements[i];ariaElement.parentNode.classList.contains("active")||ariaElement.parentNode.classList.contains("active-parent")?(ariaElement.setAttribute("aria-hidden","false"),ariaElement.parentNode.firstElementChild.setAttribute("aria-expanded",!0)):(ariaElement.setAttribute("aria-hidden","true"),ariaElement.parentNode.firstElementChild.setAttribute("aria-expanded",!1))}}())}(window.publiiThemeMenuConfig);const searchButton=document.querySelector(".js-search-btn"),searchOverlay=document.querySelector(".js-search-overlay"),searchInput=document.querySelector('input[type="search"]');searchButton&&searchOverlay&&searchInput&&(searchButton.addEventListener("click",event=>{event.stopPropagation(),searchOverlay.classList.toggle("expanded"),searchOverlay.classList.contains("expanded")&&setTimeout(()=>{searchInput.focus()},60)}),searchOverlay.addEventListener("click",event=>{event.stopPropagation()}),document.body.addEventListener("click",()=>{searchOverlay.classList.remove("expanded")})),function(){const shareButton=document.querySelector(".js-content__share-button"),sharePopup=document.querySelector(".js-content__share-popup");shareButton&&sharePopup&&(sharePopup.addEventListener("click",function(e){e.stopPropagation()}),shareButton.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),sharePopup.classList.toggle("is-visible")}),document.body.addEventListener("click",function(){sharePopup.classList.remove("is-visible")}));const Config_Link=".js-share",Config_Width=500,Config_Height=500;function PopupHandler(e){e.preventDefault();const target=e.target.closest(Config_Link);if(!target)return;sharePopup&&sharePopup.classList.remove("is-visible");const px=Math.floor((window.innerWidth-Config_Width)/2),py=Math.floor((window.innerHeight-Config_Height)/2),linkHref=target.href,popup=window.open(linkHref,"social",`\n            width=${Config_Width},\n            height=${Config_Height},\n            left=${px},\n            top=${py},\n            location=0,\n            menubar=0,\n            toolbar=0,\n            status=0,\n            scrollbars=1,\n            resizable=1\n        `);popup&&popup.focus()}document.querySelectorAll(Config_Link).forEach(link=>{link.addEventListener("click",PopupHandler)})}(),document.addEventListener("DOMContentLoaded",()=>{const backToTopButton=document.getElementById("backToTop");if(backToTopButton){const backToTopScrollFunction=()=>{document.body.scrollTop>400||document.documentElement.scrollTop>400?backToTopButton.classList.add("is-visible"):backToTopButton.classList.remove("is-visible")},backToTopFunction=()=>{window.scrollTo({top:0,behavior:"smooth"})};window.addEventListener("scroll",backToTopScrollFunction),backToTopButton.addEventListener("click",backToTopFunction)}}),function(){let wrappers=document.querySelectorAll(".post__video, .post__iframe");for(let i=0;i<wrappers.length;i++){let embed=wrappers[i].querySelector("iframe, embed, video, object");if(!embed)continue;if("false"===embed.getAttribute("data-responsive"))continue;let w=embed.getAttribute("width"),h=embed.getAttribute("height"),ratio=!1;if(w&&h&&(w.indexOf("%")>-1&&h.indexOf("%")>-1?(w=parseFloat(w.replace("%","")),h=parseFloat(h.replace("%","")),ratio=h/w):-1===w.indexOf("%")&&-1===h.indexOf("%")&&(w=parseInt(w,10),h=parseInt(h,10),ratio=h/w),!1!==ratio)){let ratioValue=100*ratio+"%";wrappers[i].setAttribute("style","--embed-aspect-ratio:"+ratioValue)}}}();