<!DOCTYPE html>
<html lang="en-gb">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
            <title>Search - Weyway ♡</title>
        
        <meta name="robots" content="noindex, follow"> 
        <meta name="generator" content="Publii Open-Source CMS for Static Site">

			<meta name="theme-color" content="#17181E"  media="(prefers-color-scheme: dark)">
	    	<meta name="theme-color" content="#D73A42" media="(prefers-color-scheme: light)">
	    	<meta name="msapplication-navbutton-color" content="#D73A42">
	    	<meta name="apple-mobile-web-app-status-bar-style" content="#D73A42">
    	

            <style>
                #progress {
                    background: #FF4778;
                    position: fixed;
                    top: 0;
                    bottom: auto;
                    left: 0;
                    width: 0%;
                    height: 4px;
                    z-index: 1000;
                }
            </style>
        
        
        <link rel="alternate" type="application/json" href="https://weyway.github.io/feed.json" title="Weyway ♡ - JSON">

        <meta property="og:title" content="Weyway ♡"><meta property="og:image" content="https://weyway.github.io/media/website/weyway.png"><meta property="og:image:width" content="227"><meta property="og:image:height" content="143"><meta property="og:site_name" content="Weyway ♡"><meta property="og:description" content=""><meta property="og:url" content="https://weyway.github.io/"><meta property="og:type" content="website">
	        <link rel="shortcut icon" href="https://weyway.github.io/media/website/favicon.ico" type="image/x-icon" />
          <link rel="preload" href="https://weyway.github.io/assets/dynamic/fonts/quicksand/quicksand.woff2" as="font" type="font/woff2" crossorigin>
        
            <link rel="preload" href="https://weyway.github.io/assets/dynamic/fonts/comfortaa/comfortaa.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="stylesheet" href="https://weyway.github.io/assets/css/style.css?v=2af256305ed1d10cdf275511dd884447">
        <script type="application/ld+json">{"@context":"http://schema.org","@type":"Organization","name":"Weyway ♡","logo":"https://weyway.github.io/media/website/weyway.png","url":"https://weyway.github.io/"}</script>
        <noscript>
            <style>
                img[loading] {
                    opacity: 1;
                }
            </style>
        </noscript>	
        <style>.ti{fill:none;stroke-linecap:round;stroke-linejoin:round;vertical-align:middle}</style>
<style>
:root.color-scheme--light {
  --page-bg: #EFE9D9;
  --lighter: #fefefe;
  --white: #ffffff;
}

:root.color-scheme--dark {
  --page-bg: #2D1A34;
  --lighter: #2a2a2a;
  --white: #1e1e1e;
}
</style>
    </head>
    <body class="search-template">
        <header class="top js-header">
   <a class="logo" href="https://weyway.github.io/">
         <img src="https://weyway.github.io/media/website/weyway.png" alt="Weyway ♡" width="227" height="143">
   </a>
         <nav class="navbar js-navbar">
            <button
               class="navbar__toggle js-toggle"
               aria-label="Menu"
               aria-haspopup="true"
               aria-expanded="false">
               <span class="navbar__toggle-box">
                  <span class="navbar__toggle-inner">Menu</span>
               </span>
            </button>
          <ul class="navbar__menu">
                   <li>
                     <a
                        href="https://weyway.github.io/crafts-and-guides-2/"
                           target="_self"
      >
                        Crafts &amp; Guides
                    </a>
      
               </li>
                   <li>
                     <a
                        href="https://weyway.github.io/raids-and-dungeons/"
                           target="_self"
      >
                        Raids &amp; Dungeons
                    </a>
      
               </li>
                   <li class="has-submenu">
                     <a
                        href="https://weyway.github.io/summary-live-letters/"
                           target="_self"
                           aria-haspopup="true"
                        >
                        Summary Live Letters
                    </a>
      
                         <ul class="navbar__submenu level-2" aria-hidden="true" >
                                  <li>
                                    <a
                                       href="https://weyway.github.io/tags/live-letters/"
                                          target="_self"
                     >
                                       Live Letters
                                   </a>
                     
                              </li>
                         </ul>
               </li>
          </ul>
         </nav>
      <div class="search">
         <div class="search__overlay js-search-overlay">
            <div class="wrapper search__overlay-inner">
               <form action="https://weyway.github.io/search.html" class="search__form">
                     <input
                        class="search__input"
                        type="search"
                        name="q"
                        placeholder="search..." 
                        aria-label="search..."
						required/>
                  </form> 
            </div>
         </div>
         <button class="search__btn btn--icon js-search-btn" aria-label="Search">
            <svg height="18" width="18" role="presentation" focusable="false">
               <use xlink:href="https://weyway.github.io/assets/svg/svg-map.svg#search"/>
            </svg>
         </button>
      </div>
</header>
<main class="page page--search">
   <div class="content search-page">
      <div class="hero hero--noimage">
         <header class="hero__content ">
            <div class="wrapper">
               <h1>
                  Search
               </h1>               
            </div>
         </header>
      </div>
      <div class="entry-wrapper content__entry">
         <form 
				action="javascript:void(0);" 
				class="search-page-form" 
				onsubmit="return false;">
				<input
					type="search"
					id="live-search-input"
					placeholder="search..."
					class="search-page-input"
					required />
			</form>
	
			<div id="search-results"></div>
	
			<script src="https://weyway.github.io/media/plugins/staticFuzzySearch/fuse.js"></script>
			<script>
				(async function () {
					const searchInput = document.getElementById("live-search-input");
					const resultsContainer = document.getElementById("search-results");
	
					// Get URL query param
					const params = new URLSearchParams(window.location.search);
					const searchTermFromURL = params.get("q") || "";
	
					// Fetch data
					const response = await fetch("./feed.json");
					const jsonData = await response.json();
					const items = jsonData.items;
	
					const fuse = new Fuse(items, {
						keys: ["title", "summary", "tags"],
						isCaseSensitive: false,
						includeScore: true,
						includeMatches: true,
						findAllMatches: false,
						minMatchCharLength: 2,
						shouldSort: true,
						ignoreLocation: true,
						ignoreDiacritics: false,
						useExtendedSearch: false,
						threshold: 0.6,
						location: 0,
						fieldNormWeight: 1,
						ignoreFieldNorm: false,
						distance: 10000
					});

					function highlightMatches(text, matches, key) {
						if (!matches) return text;

						let match = matches.find(m => m.key === key);
						if (!match) return text;

						let offset = 0;
						let highlighted = text;

						match.indices.forEach(([start, end]) => {
							const realStart = start + offset;
							const realEnd = end + offset + 1;

							const original = highlighted.slice(realStart, realEnd);
							const replacement = "<mark>" + original + "</mark>";
							
							highlighted = highlighted.slice(0, realStart) + replacement + highlighted.slice(realEnd);

							offset += "<mark></mark>".length;
						});

						return highlighted;
					}

					function renderResults(results) {
						resultsContainer.innerHTML = "";
	
						if (results.length === 0) {
							resultsContainer.innerHTML = "<p>No Results Found</p>";
							return;
						}
	
						results.forEach(result => {
							const item = result.item;
							const title = highlightMatches(item.title || "", result.matches, "title");
							const summary = highlightMatches(item.summary || "", result.matches, "summary");

							const url = item.url || "#";
	
							const resultHTML = `
								<div class="search-result-item">
									<h5><a href="${url}">${title}</a></h5>
									<p>${summary}</p>
								</div>
							`;
							resultsContainer.innerHTML += resultHTML;
						});
					}
	
					function performSearch(term) {
						if (term.length < 2) {
							resultsContainer.innerHTML = "";
							return;
						}
						history.replaceState(null, "", "?q=" + encodeURIComponent(term));

						const results = fuse.search(term);
						renderResults(results);
					}
	
					// Live input
					searchInput.addEventListener("input", (e) => {
						const term = e.target.value.trim();
						performSearch(term);
					});
	
					// If search term exists in URL, trigger search
					if (searchTermFromURL) {
						searchInput.value = searchTermFromURL;
						performSearch(searchTermFromURL);
					}
				})();
			</script>  
      </div>
   </div>
</main>
<footer class="footer ">
    <div class="wrapper">
        
            <div class="footer__copyright">
                <p>Created by <a href="https://tomestone.gg/character/15308727/weylyn-mavourneen" target="_blank" rel="noopener">W'eylyn Mavourneen</a> © 2025<br><a href="https://beyond-love.crd.co/" target="_blank" rel="noopener">Beyond Love Carrd</a><br><a href="https://discord.gg/V4PAp3GgtA" target="_blank" rel="noopener">Beyond Love Discord</a></p>
            </div>

        
            <button id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top">
                <svg width="20" height="20">
                    <use xlink:href="https://weyway.github.io/assets/svg/svg-map.svg#toparrow"/>
                </svg>
            </button>
    </div>
</footer>

<script defer src="https://weyway.github.io/assets/js/scripts.min.js?v=700105c316933a8202041b6415abb233"></script>

<script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script>

    <script>        
        var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }
    </script>



<script type="text/javascript">
        document.addEventListener("DOMContentLoaded", function() {
            if (window.location.pathname !== '/') {
            const progressBar = document.createElement('div');
            progressBar.id = 'progress';
            document.body.prepend(progressBar);
    
            let body = document.body,
                html = document.documentElement;
    
            let height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);
    
            const setProgress = () => {
                let scrollFromTop = (document.documentElement.scrollTop || body.scrollTop) + html.clientHeight;
                let width = scrollFromTop / height * 100 + '%';
                progressBar.style.width = width;
            };
    
            window.addEventListener('scroll', setProgress);
            setProgress();
            }
        });        
    </script>
</body>
</html>
